<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-a11y-keys/iron-a11y-keys.html">
<link rel="import" href="shared-styles.html">

<dom-module id="keyboard-listener">
    <template>
        <style include="shared-styles">
            :host {
                display: block;

                padding: 16px;
            }
        </style>

        <iron-a11y-keys id="a11y" target="[[target]]" keys="up down left right space r b f" on-keys-pressed="onPressed"></iron-a11y-keys>
    </template>
    <script>
        class KeyboardListener extends Polymer.Element {
            static get is() {
                return 'keyboard-listener';
            }

            static get properties() {
                return {
                    target: {
                        type: Object,
                        value: document.body
                    }
                };
            }

            onPressed(event) {
                this.dispatchEvent(new CustomEvent('onkeypressed', event));
                console.log(event.detail.keyboardEvent.keyCode);
            }
        }

        customElements.define(KeyboardListener.is, KeyboardListener);
    </script>
</dom-module>
